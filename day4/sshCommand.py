#!/usr/bin/python3


from pexpect import pxssh


def send_command(child, cmd):
    child.sendline(cmd)
    child.prompt()
    print('{}'.format(child.before.decode('ascii')))


def main():
    HOST = 'localhost'
    USER = 'root'
    PASSWORD = 'toor'
    shell = pxssh.pxssh(options={
        "StrictHostKeyChecking": "no",
        "UserKnownHostsFile": "/dev/null"})
    shell.login(HOST, USER, PASSWORD)
    send_command(shell, 'cat /etc/shadow | grep root')
    send_command(shell, 'uptime')
    shell.logout()


if __name__ == '__main__':
    main()
